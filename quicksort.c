#include <stdio.h>

void quicksort(int a[],int s,int e){
    if(s>=e)return;

    int m = s+(e-s)/2;int S=s,E=e;
    int pivot = a[m];

    while(s!=m || e!=m){ //s->=m=<-e

        while(a[s]<=pivot && s<m)s++;

        while(a[e]>=pivot && e>m)e--;

        // swap
        if(s==e)break;
        a[s]=a[s]^a[e];
        a[e]=a[s]^a[e];
        a[s]=a[s]^a[e];

        if(pivot!=a[m]){
            if(pivot==a[s]){m=s;}
            else {m=e;}
        }
    }
    // left[S,m-1]
    // right[m+1,E]
    
    if(S<m-1)quicksort(a,S,m-1);
    if(m+1<E)quicksort(a,m+1,E);

}

void main(){
    int len;
    printf("Enter the length of the array: ");
    scanf("%d",&len);
    int arr[len];
    printf("Fill the array: ");
    for(int i=0;i<len;i++){
        scanf("%d",&arr[i]);
    }
    // int arr[]={-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1,-1,-3,5,-4,-1,0,8,1,3,2,5,3,1,5,4,8,6,7,1};
    // int len=sizeof(arr)/sizeof(arr[0]);
    quicksort(arr,0,len-1);
    for(int i=0;i<len;i++){
        printf(" %d",arr[i]);
    }
}

/*
{-1,-3,5,-4,@-1,0,8,1,3,2};
{-1,-3,-4,@-1,5,0,8,1,3,2};
{-1,-3,-4} -1 {5,0,8,1,3,2}

*{-1,@-3,-4}* -1 {5,0,8,1,3,2}
*{-4,@-3,-1}* -1 {5,0,8,1,3,2}

-4 -3 -1 -1 {5,0,@8,1,3,2}

-4 -3 -1 -1 *{5,0,2,1,3,@8}*

-4 -3 -1 -1 *{5,0,@2,1,3}* 8
-4 -3 -1 -1 *{1,0,@2,5,3}* 8

-4 -3 -1 -1 *{@1,0}* 2 {5,3} 8
-4 -3 -1 -1 0 1 2 {5,3} 8

-4 -3 -1 -1 0 1 2 {@5,3} 8
-4 -3 -1 -1 0 1 2 {3,@5} 8

-4 -3 -1 -1 0 1 2 3 5 8
*/